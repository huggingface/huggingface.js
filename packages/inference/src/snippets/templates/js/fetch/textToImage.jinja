async function query(data) {
	const response = await fetch(
		"{{ fullUrl }}",
		{
			headers: {
				Authorization: "{{ authorizationHeader }}",
				"Content-Type": "application/json",
			},
			method: "POST",
			body: JSON.stringify(data),
		}
	);
	const result = await response.blob();
	return result;
}

query({
{% set input_items = providerInputs.asObj.items() | list %}
{% if input_items %}
{% for key, value in input_items %}
    {%- if not loop.first %}{{ '\n    ' }}{% else %}{{ '    ' }}{% endif %}
    {{- key | tojson }}: {{ value | tojson }}
    {%- if not loop.last %},{% endif %}
{% endfor %}
{% if input_items | length > 0 %}{{ '\n' }}{% endif %}
{% endif %}
}).then((response) => {
    // Use image
});